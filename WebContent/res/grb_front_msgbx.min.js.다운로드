!function(){"use strict";function t(t,o,l){if(function(t,o,s,r,a){S.wgTags={},y=S.wgTags,M("body").append('<div id="'+t+'"></div>');var g=M("#"+t);switch(g.append(s),g.append(r),y.container=g,y.noti={},y.noti.root=M("#groobee-wg"),y.noti.iconWgArea=y.noti.root.find(".ico-wg"),y.noti.iconWgCont=y.noti.iconWgArea.find(".ico"),y.noti.txtWgArea=y.noti.root.find(".txt-wg"),y.noti.txtWgCont=y.noti.txtWgArea.find(".wg-cmp-tit"),y.noti.txtWgCont.append('<div class="marquee"></div>'),y.noti.txtWgMq=y.noti.txtWgCont.find(".marquee"),y.noti.txtWgMq.append('<div class="innerMarquee"></div>'),y.noti.txtWgInnerMq=y.noti.txtWgCont.find(".innerMarquee"),y.noti.txtWgInnerMq.append("<p></p>"),y.noti.btnClose=y.noti.root.find(".grb-btn-cls"),y.noti.btnMarker=y.noti.root.find(".grb-btn-mrk"),y.noti.noReadCnt=y.noti.root.find(".no_read"),y.noti.iconWgImg=y.noti.root.find(".ico-wg .ico img"),y.noti.btnCloseImg=y.noti.root.find(".grb-btn-cls img"),y.noti.btnMarkerImg=y.noti.root.find(".grb-btn-mrk img"),o){case"icon":y.noti.txtWgArea.removeClass("selected"),y.noti.iconWgArea.addClass("selected");break;case"txt":y.noti.iconWgArea.removeClass("selected"),y.noti.txtWgArea.addClass("selected")}y.noti.selectedWg=y.noti.root.find(".selected"),y.noti.selectedWg.addClass("active"),y.msgbx={},y.msgbx.root=M("#groobee-msgbx"),y.msgbx.wrap=y.msgbx.root.find(">.grb-mbx-wrp"),y.msgbx.slider=y.msgbx.root.find(".grb-sldr"),y.msgbx.closeBtn=y.msgbx.root.find(".grb-btn-cls"),y.msgbx.closeBtnImg=y.msgbx.root.find(".grb-btn-cls img"),y.msgbx.title=y.msgbx.root.find(".grb-tit-msg"),y.msgbx.logo=y.msgbx.root.find("#logo_area"),y.msgbx.footer=y.msgbx.root.find(".grb-mbx-ftr"),y.msgbx.infoBox=y.msgbx.root.find(".grb-info > .grb-info-wrp"),y.msgbx.infoIcon=y.msgbx.root.find(".grb-info img.grb-icon"),y.msgbx.infoLogo=y.msgbx.root.find(".grb-info .grb-info-logo"),y.msgbx.scrollIcon=y.msgbx.root.find("div.grb-icon-scroll"),y.msgbx.scrollIcon.initBottom=parseInt(M(y.msgbx.scrollIcon.selector).css("bottom")),y.msgbx.sldCnt=y.msgbx.root.find(".grb-sld-cnt"),y.msgbx.sldCntSpan=y.msgbx.root.find(".grb-sld-cnt span"),y.msgbx.sldCurIdx=y.msgbx.root.find(".grb-sld-cur-idx"),y.msgbx.sldTotIdx=y.msgbx.root.find(".grb-sld-tot-idx"),y.msgbx.sldCtr=y.msgbx.root.find(".sld-ctr"),y.msgbx.sldCtrPrv=y.msgbx.root.find(".ctr-prv"),y.msgbx.sldCtrNxt=y.msgbx.root.find(".ctr-nxt"),y.msgbx.sldPrvBtn=y.msgbx.root.find(".bx-prev"),y.msgbx.sldNxtBtn=y.msgbx.root.find(".bx-next"),y.noti.iconWgCont.on("click",function(t){t.preventDefault(),e()}),y.noti.txtWgCont.on("click",function(t){t.preventDefault(),e()}),y.noti.noReadCnt.on("click",function(t){t.preventDefault(),e()}),y.noti.btnClose.on("click",function(t){t.preventDefault(),n()}),y.noti.btnMarker.on("click",function(t){t.preventDefault(),W.clickMarkerBtn(),v("open"),c()}),y.msgbx.closeBtn.on("click",function(t){t.preventDefault(),W.closeMsgBox(),c()}),y.msgbx.infoIcon.on("click",function(t){t.preventDefault(),W.openInfoBox()}),y.msgbx.infoBox.on("click",function(t){t.preventDefault(),W.closeInfoBox()}),y.msgbx.scrollIcon.on("click mouseover",function(t){t.preventDefault(),i(!0)})}(t,l.wgType,l.tmplWg,l.tmplMsgBx,l.tmplMsgBxItem),function(){y.msgbx.infoLogo.on("click",function(t){t.preventDefault(),function(t){k.open(t,"_blank")}(this.href)})}(),function(t,e,n,o,i,s,a,g,c,l){if(S.wgOpts={},O=S.wgOpts,O.curAct="default",O.markerDirection=q.markerDirection,O.widgetType=e,O.marginTop=20,O.marginBottom=10,O.marginLeft=10,O.marginRight=10,q.wgPosMargin&&""!=q.wgPosMargin){var x=q.wgPosMargin.split(",");O.marginTop=Number(x[0]),O.marginRight=Number(x[1]),O.marginBottom=Number(x[2]),O.marginLeft=Number(x[3])}if(O.msgbx={speed:600,top:100,width:q.boxWidth,height:q.boxHeight,banner:{width:q.bannerWidth,height:q.bannerHeight},sldCnt:{fadeInTime:1e3,fadeOutTime:2500}},O.action={flashCnt:0,flashTimes:7,flashSpeed:400},O.pos={hori:"right",verti:"bottom",mbxTop:0,mbxRight:0,mbxBottom:0,mbxLeft:0,top:0,right:0,bottom:0,left:0},n){var m=n.split("-");O.pos.hori=m[0],O.pos.verti=m[1]}if(a){var p=a.split(",");O.pos.mbxTop=Number(p[0]),O.pos.mbxRight=Number(p[1]),O.pos.mbxBottom=Number(p[2]),O.pos.mbxLeft=Number(p[3])}if(o){var d=o.split(",");O.pos.top=Number(d[0]),O.pos.right=Number(d[1]),O.pos.bottom=Number(d[2]),O.pos.left=Number(d[3])}if(O.marker={speed:400,top:0,right:0,bottom:0,left:0},g){var b=g.split(",");O.marker.top=Number(b[0]),O.marker.right=Number(b[1]),O.marker.bottom=Number(b[2]),O.marker.left=Number(b[3])}O.txtWgTmp={txtTmp01:{Extra:"273px,39px,19px,",Big:"248px,37px,17px,",Normal:"236px,36px,16px,",Small:"224px,35px,15px,"},txtTmp02:{Extra:"273px,39px,19px,5px",Big:"248px,37px,17px,5px",Normal:"236px,36px,16px,5px",Small:"224px,35px,15px,5px"},txtTmp03:{Extra:"273px,39px,19px,19.5px",Big:"248px,37px,17px,18.5px",Normal:"236px,36px,16px,18px",Small:"224px,35px,15px,17.5px"},txtTmp04:{Extra:"303px,50px,19px,5px",Big:"278px,50px,17px,5px",Normal:"266px,50px,16px,5px",Small:"254px,50px,15px,5px"}},function(t){t&&y.noti.iconWgArea.addClass("w-"+t)}(i),function(t){t&&(y.msgbx.closeBtnImg.css("width",t),y.msgbx.closeBtnImg.css("height",t))}(l),function(t,e){y.msgbx.closeBtn.addClass("closeBtn_"+t+"_"+e)}(c,l),function(t,e,n,o,i){y.msgbx.wrap.css("width",e),y.msgbx.wrap.css("height",n),y.msgbx.sldCtr.css("width",e-10+"px"),y.msgbx.infoBox.css("left",(e-y.msgbx.infoBox.width())/2),y.msgbx.infoBox.css("top",(n-y.msgbx.infoBox.height())/2)}(0,O.msgbx.width,O.msgbx.height,O.msgbx.banner.width,O.msgbx.banner.height),function(t,e){if("left"===t){var n=O.marginLeft+(O.pos.right-O.pos.left);y.noti.root.css("left",n+"px")}else{var o=O.marginRight+(O.pos.left-O.pos.right);y.noti.root.css("right",o+"px")}if("top"===e){var i=O.marginTop+(O.pos.bottom-O.pos.top);y.noti.root.css("top",i+"px")}else if("middle"===e){var s=k.innerHeight,r=0;if("icon"===O.widgetType)r=y.noti.iconWgImg.height();else{r=y.noti.txtWgCont.height();var a=y.noti.txtWgCont.css("border-top-width").replace("px","");r+=2*a}var g=(s/2-r/2+(O.pos.bottom-O.pos.top))/s*100;y.noti.root.css("top",g.toFixed(2)+"%")}else{var c=O.marginBottom+(O.pos.top-O.pos.bottom);y.noti.root.css("bottom",c+"px")}}(O.pos.hori,O.pos.verti),function(t,e){if("pcWeb"===t)if("left"===e){var n=O.marginLeft+O.pos.mbxLeft;y.msgbx.root.css("right","auto"),y.msgbx.root.css("left",n+"px")}else{var o=O.marginRight+O.pos.mbxRight;y.msgbx.root.css("left","auto"),y.msgbx.root.css("right",o+"px")}else"mobile"!==t&&"mobileApp"!==t||y.msgbx.root.css("margin-left",-1*O.msgbx.width/2)}(t,O.pos.hori),r(O.pos.hori,O.pos.verti),function(t,e,n){switch(t){case"top":case"bottom":O.marker.initPos=-1*y.noti.btnMarkerImg.height(),O.marker.movePos=0;break;case"left":case"right":O.marker.initPos=-1*y.noti.btnMarkerImg.width(),O.marker.movePos=0}y.noti.btnMarker.css(t,O.marker.initPos+"px")}(O.marker.direction,O.pos.hori,O.pos.verti)}(S.i.deviceType,l.wgType,l.wgPos,l.wgPosOpt,l.wgSize,l.mrkDir,l.mbxPosOpt,l.mrkPosOpt,l.wgCloseBtnType,l.wgCloseBtnSize),function(t){S.wgEvts={},(W=S.wgEvts).clickMarkerBtn=function(){y.noti.selectedWg.addClass("active"),y.noti.btnMarker.css(O.marker.direction,O.marker.initPos+"px"),y.noti.btnMarker.hide()},W.closeNotiBtn=function(){r(O.pos.hori,O.pos.verti),y.noti.selectedWg.removeClass("active"),y.noti.btnMarker.show();var t={};t[O.marker.direction]=O.marker.movePos,y.noti.btnMarker.animate(t,O.marker.speed)},W.openMsgBox=function(t){S.isOpenedMsgBox=!0,y.noti.selectedWg.removeClass("active"),function(t){"pcWeb"==S.i.deviceType?(y.msgbx.root[0].style.height=O.msgbx.height+"px",y.msgbx.root[0].style.bottom=-1*O.msgbx.height-O.msgbx.top+"px",y.msgbx.root[0].style.visibility="visible",y.msgbx.root.animate({bottom:10+O.pos.mbxBottom},O.msgbx.speed,t)):"mobile"!=S.i.deviceType&&"mobileApp"!=S.i.deviceType||(y.msgbx.root[0].style.height=O.msgbx.height+"px",y.msgbx.root[0].style.marginTop=O.msgbx.height/2+"px",y.msgbx.root[0].style.visibility="visible",y.msgbx.root.animate({"margin-top":-1*(O.msgbx.height/2+O.pos.mbxBottom)},O.msgbx.speed,t))}(function(){s()}),b(S.curSldIdx),u()},W.closeMsgBox=function(){S.isOpenedMsgBox=!1,function(t){var e=function(){y.msgbx.root.css("visibility","hidden"),y.msgbx.root.css("height",0),u(!0),t()};if("pcWeb"==S.i.deviceType){var n=-1*O.msgbx.height-O.msgbx.top;y.msgbx.root.animate({bottom:n},O.msgbx.speed,e)}else"mobile"!=S.i.deviceType&&"mobileApp"!=S.i.deviceType||(y.msgbx.root[0].style.height=O.msgbx.height+"px",y.msgbx.root[0].style.visibility="visible",y.msgbx.root.animate({"margin-top":O.msgbx.height/2},O.msgbx.speed,e))}(function(){y.noti.selectedWg.addClass("active")})},W.runWidgetAction=function(t){switch(t){case"default":y.noti.root.show();break;case"largeImage":!function(){if(!N.root){var t=M('<div id="groobee-act"><img class="grb-act-img"></div>');y.container.append(t),N.root=M("#groobee-act"),N.actImg=N.root.find(".grb-act-img")}var e=function(){var t=N.actImg.prop("width"),e=N.actImg.prop("height");N.actImg.css("top",-e).css("left",-t/2).css("opacity",1).css("display","block"),N.actImg.animate({top:-e/2},1500,"easeOutBack",function(){N.actImg.animate({opacity:0},1e3,n)})},n=function(){y.noti.root.animate({opacity:1},1e3),N.root.hide()};y.noti.root.css("opacity",0),S.actImgLoadFlag?e():N.actImg.on({load:function(){N.root.show(),S.actImgLoadFlag=!0,e()},error:function(){y.noti.root.css("opacity",1)}});N.actImg.prop("src",O.wgActImgUrl)}();break;case"flash":O.action.flashCnt=0,y.noti.root.show(),y.noti.root[0].style.opacity=0,g(1);break;case"openFirst":W.openMsgBox()}c()},W.openInfoBox=function(){y.msgbx.infoBox.fadeIn(500),M(".grb-li-dim").each(function(){M(this).css("height",M(this).parent().prop("scrollHeight"))}),M(".grb-li-dim").fadeIn(500)},W.closeInfoBox=function(){y.msgbx.infoBox.fadeOut(500),M(".grb-li-dim").fadeOut(500)},W.showScrollIcon=function(){y.msgbx.scrollIcon.stop().fadeIn(1e3),a(!0)},W.hideScrollIcon=function(t){t?y.msgbx.scrollIcon.stop().hide():y.msgbx.scrollIcon.stop().fadeOut(400),a(!1)},W.showSlideCnt=function(){q.isFadeInOutSldCnt?function(t){y.msgbx.sldCnt.stop().fadeIn(O.msgbx.sldCnt.fadeInTime),t&&y.msgbx.sldCnt.fadeOut(O.msgbx.sldCnt.fadeOutTime)}(!0):y.msgbx.sldCnt.show()}}(),function(t,e,n,o,i,s,r,a,g,c,l){e=e&&""!=e?e:P.pc.txtCol,n=n&&""!=n?n:P.pc.txtBgCol,r=r&&""!=r?r:P.pc.wgTitle,("mobile"===t||"mobileApp"===t)&&y.noti.txtWgCont.css("font-size","11pt");y.msgbx.wrap.css("border-color",i),"logo"==s?y.msgbx.title.html('<img src="'+a+'">'):(y.msgbx.title.html(r),y.msgbx.title.css("color",e));!0!==q.isFadeInOutSldCnt&&y.msgbx.sldCnt.css("color",e);y.msgbx.title.css("background-color",n),y.msgbx.footer.css("border-top-color",n),!0!==q.ignoreMrkImgUrl&&y.noti.btnMarkerImg.prop("src",c);y.msgbx.logo.html(g),l&&y.msgbx.closeBtnImg.prop("src",l)}(S.i.deviceType,l.txtCol,l.txtBgCol,l.mbxCloseCol,l.mbxEdgeCol,l.wgTitleType,l.wgTitle,l.wgLogoUrl,l.logoCont,l.wgMinImgUrl,l.wgCloseBtnImgUrl),O.curAct=l.wgAction,O.wgActImgUrl=l.wgActImgUrl,function(t){"icon"==t?M("."+L).removeClass("text").addClass("icon"):"txt"==t&&M("."+L).removeClass("icon").addClass("text")}(l.wgType),"icon"==l.wgType)!0!==l.ignoreWgImgUrl&&function(t){t&&""!=t&&y.noti.iconWgImg.prop("src",t)}(l.wgImgUrl);else if("txt"==l.wgType){var x=l.wgTextTmp,m=l.wgTextImgUpload,p=l.wgTxtThickness,d=l.wgTxtBrdThickness,f=l.wgTxtSize,h=l.wgTxtColOpt.split(",");!function(t,e){var n=y.noti.txtWgMq;n.css("background-color",t),n.css("color",e)}(h[0],h[2]),function(t,e,n){var o=y.noti.txtWgMq;{if(!t)return;var i=O.txtWgTmp[t][e].split(",");S.i.deviceType;if("txtTmp04"==t){S.i.deviceType;var s='<img src="'+n+'" style="width:50px; height:50px; float:left; border-radius:5px 0px 0px 5px; position:absolute; z-index:1;">';y.noti.txtWgArea.find("div.txt-wg img").remove(),o.css("width",i[0]),o.css("height",i[1]),o.css("font-size",i[2]),o.css("border-radius",i[3]),o.css("text-align","center"),o.before(s)}else y.noti.txtWgArea.find("div.txt-wg img").remove(),o.css("width",i[0]),o.css("height",i[1]),o.css("font-size",i[2]),o.css("border-radius",i[3]),o.css("text-align","center")}}(x,f,m),function(t,e,n){var o=y.noti.txtWgMq;o.css("box-shadow","0 0 0 "+e+"px "+n),"true"==t?o.css("font-weight","bold"):o.css("font-weight","")}(p,d,h[1])}}function e(){W.openMsgBox(),c()}function n(){W.closeNotiBtn(),v("close"),c()}function o(){W.showScrollIcon()}function i(t){W.hideScrollIcon(t)}function s(){"none"==y.msgbx.sldCnt.css("display")&&q.visibleSldCnt&&S.sldTotCnt>1&&W.showSlideCnt()}function r(t,e){if("vertical"===O.markerDirection){O.marker.direction="bottom";var n=y.noti.btnMarkerImg.width(),o=0;if("icon"===O.widgetType)o=y.noti.iconWgImg.width();else{o=(o=y.noti.txtWgCont.width())>0?o:180;var i=y.noti.txtWgCont.css("padding-left").replace("px",""),s=y.noti.txtWgCont.css("border-left-width").replace("px","");o=o+2*Number(i)+2*Number(s)}!function(t,e,n){"left"===t?y.noti.btnMarker.css("left",O.marginLeft+e/2-n/2+(O.pos.right-O.pos.left)+(O.marker.right-O.marker.left)):y.noti.btnMarker.css("right",O.marginRight+e/2-n/2+(O.pos.left-O.pos.right)+(O.marker.left-O.marker.right))}(t,o,n)}else{O.marker.direction=t;var r=y.noti.btnMarkerImg.height();!function(t,e,n){if("top"===t){var o=O.marginTop+e/2-n/2+(O.pos.bottom-O.pos.top)+(O.marker.bottom-O.marker.top);y.noti.btnMarker.css("top",o+"px")}else if("middle"===t){var i=k.innerHeight,s=(i/2-n/2+(O.pos.bottom-O.pos.top)+(O.marker.bottom-O.marker.top))/i*100;y.noti.btnMarker.css("top",s.toFixed(2)+"%")}else{var r=O.marginBottom+e/2-n/2+(O.pos.top-O.pos.bottom)+(O.marker.top-O.marker.bottom);y.noti.btnMarker.css("bottom",r+"px")}}(e,"icon"===O.widgetType?y.noti.iconWgImg.height():y.noti.txtWgCont.height(),r)}}function a(t){y.msgbx.scrollIcon.animCnt=0;var e=y.msgbx.scrollIcon.initBottom,n=function(){if(y.msgbx.scrollIcon.moveFlag&&y.msgbx.scrollIcon.animCnt/2<5){var t=y.msgbx.scrollIcon.animCnt%2==0?e-5:e;y.msgbx.scrollIcon.animate({bottom:t},500,n),y.msgbx.scrollIcon.animCnt++}};t?(y.msgbx.scrollIcon.moveFlag=!0,n()):y.msgbx.scrollIcon.moveFlag=!1}function g(t){O.action.flashCnt++,y.noti.root.animate({opacity:t},O.action.flashSpeed,function(){O.action.flashCnt>=O.action.flashTimes||g(0==y.noti.root[0].style.opacity?1:0)})}function c(){!function(){var t=x();t>0?(t>99?y.noti.noReadCnt.text("99+"):y.noti.noReadCnt.text(t),l(!0)):(y.noti.noReadCnt.text("0"),l(!1))}(),"txt"==S.i.widgetInfo.wgType&&function(t){var e=S.lateCreativeList[t].creativeTitle,n=(e=e||"").length,o=S.i.widgetInfo.wgMarquee,i=S.i.widgetInfo.wgTxtBrdThickness,s=S.i.widgetInfo.wgTextTmp,r=S.i.widgetInfo.wgTxtSize,a=O.txtWgTmp[s][r].split(","),g=(a[0].substr(0,3),y.noti.txtWgMq),c=y.noti.txtWgInnerMq;c.find("p").text(e),c.find("p").css("font-size",a[2]),c.find("p").css("animation-duration",(6+.4*n).toString()+"s"),"txtTmp04"==s?(c.css("width",(a[0].substring(0,3)-70).toString()+"px"),c.css("margin-left","60px"),"Extra"==r?c.find("p").css("padding-top","13px"):"Big"==r?c.find("p").css("padding-top","15px"):"Normal"!=r&&"Small"!=r||c.find("p").css("padding-top","15px"),c.css("line-height","47px")):"txtTmp01"==s?(c.css("width",(a[0].substring(0,3)-35).toString()+"px"),c.find("p").css("padding-top","9px"),c.css("line-height","35px"),"Extra"==r?c.css("margin-left","18px"):"Big"!=r&&"Normal"!=r&&"Small"!=r||c.css("margin-left","17px"),"0"==i?(y.noti.btnClose.css("top","-18px"),y.noti.btnClose.css("left","-18.5px")):"1"==i?y.noti.btnClose.css("left","-19.5px"):"2"==i?y.noti.btnClose.css("left","-20.5px"):"3"==i?y.noti.btnClose.css("left","-21.5px"):"4"==i&&y.noti.btnClose.css("left","-23.5px")):"txtTmp02"==s?(c.css("width",(a[0].substring(0,3)-35).toString()+"px"),c.css("margin-left","18px"),c.find("p").css("padding-top","9px"),c.css("line-height","35px"),"Extra"==r?c.css("margin-left","18px"):"Big"!=r&&"Normal"!=r&&"Small"!=r||c.css("margin-left","17px")):"txtTmp03"==s&&(c.css("width",(a[0].substring(0,3)-35).toString()+"px"),c.css("margin-left","18px"),c.find("p").css("padding-top","9px"),c.css("line-height","35px"),"Extra"==r?c.css("margin-left","17px"):"Big"==r?c.css("margin-left","17px"):"Normal"!=r&&"Small"!=r||c.css("margin-left","18px"));"false"==o&&g.removeClass("marquee")}(S.curSldIdx)}function l(t){t?y.noti.noReadCnt.css("display","block"):y.noti.noReadCnt.css("display","none")}function x(){if(null==S.lateCreativeList)return 0;for(var t=0,e=C(),n=e?JSON.parse(e):{},o=0;o<S.lateCreativeList.length;o++){var i=S.lateCreativeList[o].campaignKey;n[i]&&"Y"===n[i]||"N"!==S.lateCreativeList[o].isOpened||t++}return t}function m(t,e){for(var n=0;n<t.length;n++){var o=t[n].directMessage,i=t[n].templateMessage;t[n].currentTime;!function(t,e,n,o,i,s,r,a){var g=M(a);o&&(g.find(".grb-ban-img").html(o),function(t,e,n,o,i){for(var s=t.find("area"),r=t.find(".rcmGoodsbox"),a=S.i.widgetInfo.bannerWidth,g=S.i.widgetInfo.bannerHeight,c=0;c<s.length;c++){var l=[];(l=s[c].getAttribute("coords").split(","))[0]=l[0]*a/250,l[2]=l[2]*a/250,l[1]=l[1]*g/350,l[3]=l[3]*g/350,s[c].setAttribute("coords",l)}s.length>0?function(t,e,n,o){t.on("click",function(t){t.preventDefault();var o=t.target.getAttribute("href"),i=t.target.getAttribute("target");S.onClickCreativeLink(e,n,o,i)})}(s,e,n):r.length>0||function(t,e,n,o,i){t.length>0&&""!=o&&t.css("cursor","pointer").on("click",function(t){t.preventDefault(),S.onClickCreativeLink(e,n,o,i)})}(t.find(".grb-ban-img img"),e,n,o,i)}(g,t,e,s,r));n&&""!=n&&(g.find(".grb-txt-msg").html(n).css("display","block"),function(t,e,n,o,i){t.find(".grb-txt-msg a").each(function(){var t=M(this);t.attr("title",t.attr("href"))}).on("click",function(t){t.preventDefault();var o=M(this).attr("title");S.onClickCreativeLink(e,n,o,i)})}(g,t,e,0,r));y.msgbx.slider.append(g)}(t[n].campaignKey,t[n].campaignType,o,i,0,t[n].creativeLink,t[n].blankOption,e)}S.lateCreativeList=t}function p(){y.msgbx.slider.find(".grb-ban-img img").css("max-width",O.msgbx.banner.width),0==y.msgbx.slider.find("div.rcmGoodsbox").length&&(y.msgbx.slider.find(".grb-ban-img img").css("width",O.msgbx.banner.width),y.msgbx.root.find(".grb-cont ul li").css("height",O.msgbx.banner.height))}function d(){for(var t=C(),e=t?JSON.parse(t):{},n=0;n<S.lateCreativeList.length;n++){var o=S.lateCreativeList[n].campaignKey;if((!e[o]||"Y"!==e[o])&&"N"===S.lateCreativeList[n].isOpened)return n}return 0}function b(t){var e=C(),n=e?JSON.parse(e):{};if(void 0===t)for(var o=0;o<S.lateCreativeList.length;o++)n[i=S.lateCreativeList[o].campaignKey]&&"Y"==n[i]||(n[i]="N");else{var i=S.lateCreativeList[t].campaignKey,s=S.lateCreativeList[t].campaignType,r=S.lateCreativeList[t].sessionSeq,a=S.lateCreativeList[t].isOpened,g=null!=S.lateCreativeList[t].recomYn?S.lateCreativeList[t].recomYn:"N";if("Y"!==n[i]&&"N"===a){S.send("expression",{campaignKey:i,campaignType:s,sessionSeq:r,recomYn:g}),S.lateCreativeList[t].isOpened="Y";var c=M(".grb-tiser-img");"Y"==g&&c.length>0&&(M(".rcmGoodsbox").css("display","none"),setTimeout(function(){M(".grb-tiser-img").animate({opacity:0},1e3,function(){M(".grb-tiser-img").css("display","none"),M(".rcmGoodsbox").css("display","block")})},2e3))}n[i]="Y"}!function(t){S.setCookie(B,t)}(e=function(t){return S.noConflictJSONStringify?function(){var e=JSON.stringify,n=Array.prototype.toJSON;delete Array.prototype.toJSON;var o=e(t);return Array.prototype.toJSON=n,o}():JSON.stringify(t)}(n))}function f(){M("#"+L).css("display","block"),function(){for(var t=0;t<S.lateCreativeList.length;t++)"Y"==S.lateCreativeList[t].recomYn&&"Y"==S.lateCreativeList[t].isOpened&&M(".grb-li-banner:eq("+t+")").find(".grb-tiser-img").css("display","none")}(),function(t){S.isFirstInitSlider?S.isFirstInitSlider=!1:S.currentSlider.destroySlider();var e={infiniteLoop:!1,useCSS:!1,slideMargin:15,pager:!1,speed:300,startSlide:S.curSldIdx,nextText:'<span class="grb-sld-txt"></span><i class="grb-sld-txt fa fa-arrow-right fa-2x"></i>',prevText:'<i class="grb-sld-txt fa fa-arrow-left fa-2x"></i><span class="grb-sld-txt"></span>',hideControlOnEnd:!0,touchEnabled:!("mobile"!==t&&"mobileApp"!==t||!A.creativeList||!(A.creativeList.length>1)),onSlideAfter:function(t,e,n){y.msgbx.sldCurIdx.html(n+1),S.curSldIdx=n,b(n),s(),u()},onSliderLoad:function(t){S.sldTotCnt=y.msgbx.slider.getSlideCount(),function(t){0==y.msgbx.sldPrvBtn.length&&(y.msgbx.sldPrvBtn=y.msgbx.root.find(".bx-prev"));0==y.msgbx.sldNxtBtn.length&&(y.msgbx.sldNxtBtn=y.msgbx.root.find(".bx-next"));q.visibleSldCtrText&&q.sldTxtSelector&&""!=q.sldTxtSelector&&function(t,e,n){y.msgbx.sldPrvBtn.find(t).html(e),y.msgbx.sldNxtBtn.find(t).html(n)}(q.sldTxtSelector,q.sldPrvTxt,q.sldNxtTxt);y.msgbx.sldTxt=y.msgbx.root.find(q.sldTxtSelector),y.msgbx.sldCtr.css("background-color",q.txtBgCol),y.msgbx.sldPrvBtn.css("color",q.txtCol),y.msgbx.sldNxtBtn.css("color",q.txtCol),y.msgbx.sldTxt.css("color",q.txtCol),y.msgbx.sldCurIdx.html(t+1),y.msgbx.sldTotIdx.html(S.sldTotCnt),h(t,S.sldTotCnt)}(t)},onSlideNext:function(t,e,n){h(n,S.sldTotCnt)},onSlidePrev:function(t,e,n){h(n,S.sldTotCnt)}};q.prevSelector&&""!=q.prevSelector&&q.nextSelector&&""!=q.nextSelector&&(e.prevSelector=q.prevSelector,e.nextSelector=q.nextSelector,y.msgbx.prevBtn=M(q.prevSelector),y.msgbx.nextBtn=M(q.nextSelector),y.msgbx.prevBtn.on("click",function(){0==S.curSldIdx&&s()}),y.msgbx.nextBtn.on("click",function(){S.curSldIdx+1==S.sldTotCnt&&s()}));q.prevText&&""!=q.prevText&&q.nextText&&""!=q.nextText&&(e.prevText=q.prevText,e.nextText=q.nextText);S.currentSlider=y.msgbx.slider.bxSlider(e)}(S.i.deviceType),function(t){if("open"===function(t){return t?S.wgOpStateDef:S.getCookie(T,S.wgOpStateDef)}()){var e,o=function(){if(null==S.lateCreativeList)return 0;for(var t=0,e=C(),n=e?JSON.parse(e):{},o=0;o<S.lateCreativeList.length;o++){var i=S.lateCreativeList[o].campaignKey;n[i]&&"N"===n[i]&&"N"===S.lateCreativeList[o].isOpened&&t++}return t}(),i=x();e=i>0&&o>=0&&i>o?t:"default",W.runWidgetAction(e),b()}else n()}(O.curAct)}function u(t){var e=y.msgbx.slider.find("li.grb-li-banner")[S.curSldIdx],n=y.msgbx.slider.find("div.rcmGoodsbox")[S.curSldIdx],s=function(t){return t.scrollHeight>t.clientHeight+8}(e);O.msgbx.width>0&&y.msgbx.scrollIcon.css("right",O.msgbx.width/2-36);var r=function(){i()};if(!t&&s)o(),e.addEventListener("scroll",r);else if(null!=n){o();var a=y.msgbx.slider.find("ol")[S.curSldIdx];null!=a&&a.addEventListener("scroll",r)}else i(!0),e.removeEventListener("scroll",r)}function h(t,e){q.visibleSldCtrText&&function(t,e){0==t?(y.msgbx.sldPrvBtn.removeClass("txtOn"),y.msgbx.sldNxtBtn.addClass("txtOn")):t+1==e?(y.msgbx.sldPrvBtn.addClass("txtOn"),y.msgbx.sldNxtBtn.removeClass("txtOn")):(y.msgbx.sldPrvBtn.removeClass("txtOn"),y.msgbx.sldNxtBtn.removeClass("txtOn"))}(t,e),function(t,e){y.msgbx.root.removeClass("grb-no-sld grb-sld-f grb-sld-m grb-sld-l"),1===e?y.msgbx.root.addClass("grb-no-sld"):0===t?y.msgbx.root.addClass("grb-sld-f"):t+1===e?y.msgbx.root.addClass("grb-sld-l"):y.msgbx.root.addClass("grb-sld-m")}(t,e)}function v(t){"open"!=t&&"close"!=t||S.setCookie(T,t)}function C(){return S.getCookie(B,"")}function I(t){t.easing.jswing=t.easing.swing,t.extend(t.easing,{def:"easeOutQuad",swing:function(e,n,o,i,s){return t.easing[t.easing.def](e,n,o,i,s)},easeInQuad:function(t,e,n,o,i){return o*(e/=i)*e+n},easeOutQuad:function(t,e,n,o,i){return-o*(e/=i)*(e-2)+n},easeInOutQuad:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e+n:-o/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,o,i){return o*(e/=i)*e*e+n},easeOutCubic:function(t,e,n,o,i){return o*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e*e+n:o/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,o,i){return o*(e/=i)*e*e*e+n},easeOutQuart:function(t,e,n,o,i){return-o*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e*e*e+n:-o/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,o,i){return o*(e/=i)*e*e*e*e+n},easeOutQuint:function(t,e,n,o,i){return o*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,o,i){return(e/=i/2)<1?o/2*e*e*e*e*e+n:o/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,o,i){return-o*Math.cos(e/i*(Math.PI/2))+o+n},easeOutSine:function(t,e,n,o,i){return o*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(t,e,n,o,i){return-o/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(t,e,n,o,i){return 0==e?n:o*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(t,e,n,o,i){return e==i?n+o:o*(1-Math.pow(2,-10*e/i))+n},easeInOutExpo:function(t,e,n,o,i){return 0==e?n:e==i?n+o:(e/=i/2)<1?o/2*Math.pow(2,10*(e-1))+n:o/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,o,i){return-o*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(t,e,n,o,i){return o*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(t,e,n,o,i){return(e/=i/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+n:o/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,o,i){var s=1.70158,r=0,a=o;if(0==e)return n;if(1==(e/=i))return n+o;if(r||(r=.3*i),a<Math.abs(o)){a=o;s=r/4}else s=r/(2*Math.PI)*Math.asin(o/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/r)+n},easeOutElastic:function(t,e,n,o,i){var s=1.70158,r=0,a=o;if(0==e)return n;if(1==(e/=i))return n+o;if(r||(r=.3*i),a<Math.abs(o)){a=o;s=r/4}else s=r/(2*Math.PI)*Math.asin(o/a);return a*Math.pow(2,-10*e)*Math.sin((e*i-s)*(2*Math.PI)/r)+o+n},easeInOutElastic:function(t,e,n,o,i){var s=1.70158,r=0,a=o;if(0==e)return n;if(2==(e/=i/2))return n+o;if(r||(r=i*(.3*1.5)),a<Math.abs(o)){a=o;s=r/4}else s=r/(2*Math.PI)*Math.asin(o/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/r)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-s)*(2*Math.PI)/r)*.5+o+n},easeInBack:function(t,e,n,o,i,s){return void 0==s&&(s=1.70158),o*(e/=i)*e*((s+1)*e-s)+n},easeOutBack:function(t,e,n,o,i,s){return void 0==s&&(s=1.70158),o*((e=e/i-1)*e*((s+1)*e+s)+1)+n},easeInOutBack:function(t,e,n,o,i,s){return void 0==s&&(s=1.70158),(e/=i/2)<1?o/2*(e*e*((1+(s*=1.525))*e-s))+n:o/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+n},easeInBounce:function(e,n,o,i,s){return i-t.easing.easeOutBounce(e,s-n,0,i,s)+o},easeOutBounce:function(t,e,n,o,i){return(e/=i)<1/2.75?o*(7.5625*e*e)+n:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+n:o*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(e,n,o,i,s){return n<s/2?.5*t.easing.easeInBounce(e,2*n,0,i,s)+o:.5*t.easing.easeOutBounce(e,2*n-s,0,i,s)+.5*i+o}})}function w(t){!0===S.isDev&&function(t){k.console&&console.log(t)}(t)}var k=window,T=(document,"grb_wg_op_st"),B="grb_rd_cp",S=window.groobee,M=S.jquery,y=S.wgTags,O=S.wgOpts,W=S.wgEvts,N=S.wgAct,L="groobee-container",P=S.wgOptDef;S.ver||(S.ver=[]),S.ver.push("f14500");var A=S.latRes,q=S.i.widgetInfo;A?(S.latRes=void 0,I(M),0==M("#"+L).length&&(S.isDefaultWgInfo&&(q=M.extend({},q,A)),t(L,0,q)),A.creativeList&&A.creativeList.length>0&&(w("run widget."),y.msgbx.slider.empty(),m(A.creativeList,q.tmplMsgBxItem),p(),S.curSldIdx=d(),S.isOpenedMsgBox&&b(S.curSldIdx),f()),S.frontCb&&"function"==typeof S.frontCb&&S.frontCb(),S.initMessage=function(){A=S.latRes,q=S.i.widgetInfo,A?(S.latRes=void 0,I(M),0==M("#"+L).length&&(S.isDefaultWgInfo&&(q=M.extend({},q,A)),t(L,0,q)),A.creativeList&&A.creativeList.length>0&&(w("run widget."),y.msgbx.slider.empty(),m(A.creativeList,q.tmplMsgBxItem),p(),S.curSldIdx=d(),S.isOpenedMsgBox&&b(S.curSldIdx),f()),S.frontCb&&"function"==typeof S.frontCb&&S.frontCb()):w("response is nothing.")}):w("response is nothing.")}();